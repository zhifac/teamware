
include Makefile.dep

depend:
	>Makefile.dep
	for f in *.yam; do H=`echo $$f |sed 's,\..*,,'`; \
	  FILES="$$FILES $${H}.html"; \
	done; \
	echo 'all: '$$FILES >>Makefile.dep
	echo >>Makefile.dep
	for f in *.yam; do H=`echo $$f |sed 's,\..*,,'`; \
	  echo $${H}.html: $$f >>Makefile.dep; \
	  echo '	yam2html '$${H} >>Makefile.dep; \
	  echo >>Makefile.dep; \
	done

index:
	echo 'GLEAM docs (autogenerated index)' >index.yam
	echo >>index.yam
	echo >>index.yam
	for f in *.yam; do H=`echo $$f |sed 's,\..*,,'`; \
	  echo '- %('$${H}'.html)' >>index.yam; \
	done

talks:
	yam2html -a && html2slidy -t "Annotation Factories and GLEAM" -w 250 -i /home/hamish/ext/gateserver/html/sale/talks/gslidy/gate-logo-colour.png gate-training-course-talk.html
	yam2html -a && ~/bin/html2slidy -t 'Annotation Factories for eCulture' -i gslidy/gate-logo-colour.png -w 200 salzburg-eculture-talk.html  && \
	sed 's,h2.[0-9]*\. ,h2>,' salzburg-eculture-talk-slidy.html >$$.tmp && \
	mv $$.tmp salzburg-eculture-talk-slidy.html
